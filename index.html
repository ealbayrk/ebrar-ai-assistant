<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ebrar'Ä±n Yapay ZekÃ¢ AsistanÄ±</title>

  <style>
    :root {
      --bg-grad-start: #0f172a;
      --bg-grad-end: #111827;
      --card-bg: rgba(15, 23, 42, 0.85);
      --accent: #f97316;
      --accent-soft: rgba(249, 115, 22, 0.15);
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --border-subtle: rgba(148, 163, 184, 0.4);
      --radius-lg: 18px;
      --radius-full: 999px;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.55);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 55%, #000 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      color: var(--text-main);
    }

    .shell { max-width: 960px; width: 100%; }

    .card {
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.96), rgba(17, 24, 39, 0.94));
      border-radius: 24px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 24px;
      display: grid;
      grid-template-columns: minmax(0, 3.5fr) minmax(260px, 2.2fr);
      gap: 24px;
      backdrop-filter: blur(20px);
    }

    @media (max-width: 800px) {
      .card { grid-template-columns: minmax(0, 1fr); }
    }

    /* SOL TARAF â€“ CHAT */
    .chat-section { display: flex; flex-direction: column; gap: 16px; }

    .badge {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 4px 12px; border-radius: var(--radius-full);
      background: rgba(148, 163, 184, 0.08);
      border: 1px solid rgba(148, 163, 184, 0.35);
      font-size: 11px; letter-spacing: 0.08em; text-transform: uppercase;
      color: var(--text-muted);
    }

    .badge-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: #22c55e;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.2);
    }

    .title-row { display: flex; flex-direction: column; gap: 6px; }
    .title-row h1 { font-size: 24px; letter-spacing: 0.04em; }
    .title-row span { font-size: 13px; color: var(--text-muted); }

    .intro {
      font-size: 13px;
      color: var(--text-muted);
      line-height: 1.6;
      margin-top: 8px;
    }

    .pill-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }

    .pill {
      font-size: 11px; padding: 5px 10px;
      border-radius: var(--radius-full);
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.45);
      color: var(--text-muted);
      display: inline-flex; align-items: center; gap: 6px;
    }

    .pill-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--accent); }

    .chatbox {
      margin-top: 14px;
      padding: 14px;
      border-radius: 16px;
      background: radial-gradient(circle at top left, rgba(248, 250, 252, 0.04), rgba(15, 23, 42, 0.96));
      border: 1px solid rgba(148, 163, 184, 0.35);
      height: 320px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
      scroll-behavior: smooth;
    }

    .message {
      padding: 9px 12px;
      border-radius: 12px;
      font-size: 13px;
      line-height: 1.5;
      max-width: 82%;
      position: relative;
      word-break: break-word;
    }

    .bot {
      align-self: flex-start;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.5);
    }

    .bot::before {
      content: "EA";
      position: absolute;
      top: -16px;
      left: 0;
      font-size: 10px;
      letter-spacing: 0.14em;
      color: var(--accent);
      text-transform: uppercase;
    }

    .user {
      align-self: flex-end;
      background: rgba(249, 115, 22, 0.12);
      border: 1px solid rgba(249, 115, 22, 0.6);
    }

    .choice-wrap { margin-top: 10px; display: flex; flex-wrap: wrap; gap: 8px; }

    .choice-btn {
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: rgba(15, 23, 42, 0.85);
      color: var(--text-main);
      font-size: 12px;
      cursor: pointer;
      transition: 0.15s ease;
    }
    .choice-btn.secondary { border-style: dashed; color: var(--text-muted); }
    .choice-btn:hover {
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(249,115,22,0.12);
      transform: translateY(-1px);
    }
    .choice-btn:disabled { opacity: .45; cursor: default; transform: none; box-shadow: none; }

    .input-area { margin-top: 12px; display: flex; align-items: center; gap: 8px; }
    .input-wrapper { position: relative; flex: 1; }

    .input-wrapper input {
      width: 100%;
      padding: 11px 80px 11px 11px;
      border-radius: var(--radius-full);
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-main);
      font-size: 13px;
      outline: none;
    }
    .input-wrapper input::placeholder { color: #6b7280; }

    .shortcut-hint {
      position: absolute; right: 10px; top: 50%;
      transform: translateY(-50%);
      font-size: 10px; color: #6b7280;
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.7);
      padding: 2px 6px;
    }

    .send-btn {
      border-radius: var(--radius-full);
      padding: 10px 14px;
      border: none;
      background: linear-gradient(135deg, #f97316, #fb923c);
      color: #0b1120;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 10px 25px rgba(249, 115, 22, 0.4);
      white-space: nowrap;
      transition: .15s ease;
    }
    .send-btn:hover { filter: brightness(1.05); transform: translateY(-1px); }
    .send-btn:active { transform: translateY(0); box-shadow: 0 6px 18px rgba(249, 115, 22, 0.35); }
    .send-btn span { font-size: 16px; transform: translateY(1px); }

    .bottom-menu{
      position: sticky;
      bottom: 0;
      padding-top: 10px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      background: linear-gradient(180deg, rgba(2,6,23,0) 0%, rgba(2,6,23,0.75) 35%, rgba(2,6,23,0.95) 100%);
      backdrop-filter: blur(10px);
      z-index: 5;
    }
    .bm-btn{
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px solid rgba(148,163,184,0.55);
      background: rgba(15,23,42,0.85);
      color: var(--text-main);
      font-size: 12px;
      cursor: pointer;
      transition: .15s ease;
    }
    .bm-btn:hover{
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(249,115,22,0.12);
      transform: translateY(-1px);
    }

    .quick-questions { margin-top: 10px; display: flex; flex-wrap: wrap; gap: 6px; }
    .quick-btn {
      font-size: 11px;
      padding: 5px 9px;
      border-radius: var(--radius-full);
      border: 1px dashed rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.8);
      color: var(--text-muted);
      cursor: pointer;
    }
    .quick-btn:hover { border-style: solid; color: var(--accent); }

    /* SAÄ TARAF â€“ PROFÄ°L */
    .side-section {
      border-left: 1px solid rgba(148, 163, 184, 0.38);
      padding-left: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    @media (max-width: 800px) {
      .side-section {
        border-left: none;
        border-top: 1px solid rgba(148, 163, 184, 0.38);
        padding-left: 0;
        padding-top: 18px;
        margin-top: 6px;
      }
    }

    .profile-row { display: flex; align-items: center; gap: 12px; }
    .avatar {
      width: 58px; height: 58px; border-radius: 50%;
      border: 2px solid rgba(249, 115, 22, 0.8);
      background-size: cover;
      background-position: center;
      background-image: url("https://raw.githubusercontent.com/ealbayrk/ebrar-ai-assistant/main/IMG_0358.PNG");
    }
    .profile-text h2 { font-size: 16px; letter-spacing: 0.06em; text-transform: uppercase; }
    .profile-text p { font-size: 12px; color: var(--text-muted); }

    .tag-list { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
    .tag {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: var(--radius-full);
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.5);
      color: var(--text-muted);
    }

    .section-title {
      margin-top: 8px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
    }
    .section-body { margin-top: 4px; font-size: 12px; color: var(--text-main); line-height: 1.6; }
    .section-body span { color: var(--accent); font-weight: 500; }

    .link-box {
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px dashed rgba(148, 163, 184, 0.6);
      font-size: 11px;
      color: var(--text-muted);
    }
    .link-box a { color: var(--accent); text-decoration: none; font-weight: 500; }
    .link-box a:hover { text-decoration: underline; }


    /* âœ… MOBILE POLISH */
@media (max-width: 520px) {
  body { padding: 14px; }

  .card{
    padding: 14px;
    gap: 14px;
    border-radius: 18px;
  }

  .title-row h1 { font-size: 18px; line-height: 1.25; }
  .title-row span { font-size: 12px; }

  .pill-row { gap: 6px; }
  .pill { font-size: 10px; padding: 4px 8px; }

  .chatbox{
    height: 52vh;
    min-height: 320px;
    padding: 12px;
    border-radius: 14px;
    -webkit-overflow-scrolling: touch;
  }

  .message{
    max-width: 92%;
    font-size: 13px;
  }

  .input-area{ gap: 10px; }
  .input-wrapper input{
    padding: 12px 78px 12px 12px;
    font-size: 14px;
  }

  .send-btn{ padding: 11px 14px; }

  .bottom-menu{
    gap: 8px;
    padding-top: 12px;
  }

  .bm-btn{
    flex: 1 1 calc(50% - 4px);
    text-align: center;
    padding: 10px 12px;
    font-size: 12px;
  }

  .quick-questions{ gap: 8px; }
  .quick-btn{
    padding: 8px 10px;
    font-size: 12px;
  }

  .side-section{
    padding-top: 14px;
    gap: 12px;
  }
  .avatar{ width: 46px; height: 46px; }
  .profile-text h2{ font-size: 14px; }
}

/* âœ… iOS viewport fix */
body { min-height: 100dvh; } 
    /* âœ… MOBILE FIX: merkezlemeyi kapat, Ã¼stten baÅŸlat */
@media (max-width: 800px){
  body{
    align-items: flex-start;
    justify-content: flex-start;
  }
  .shell{ width: 100%; }
  .card{ width: 100%; }
}

/* âœ… iOS safe area (alt bar Ã§akÄ±ÅŸmasÄ±n) */
@supports (padding: max(0px)) {
  body { padding-bottom: max(14px, env(safe-area-inset-bottom)); }
}

    @media (max-width: 520px){
  .input-area{
    position: sticky;
    bottom: 10px;
    z-index: 10;
    padding: 10px;
    border-radius: 16px;
    background: rgba(2,6,23,0.75);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(148,163,184,0.25);
  }
}
  </style>
</head>

<body>
<div class="shell">
  <div class="card">
    <!-- SOL -->
    <section class="chat-section">
      <div class="badge"><span class="badge-dot"></span> EBRAR AI ASSISTANT Â· LIVE</div>

      <div class="title-row">
        <h1>Ebrar'Ä±n Yapay ZekÃ¢ AsistanÄ±</h1>
        <span>Ebrar Albayrak hakkÄ±nda daha fazla ÅŸey Ã¶ÄŸrenmek iÃ§in teknik ekiplerin kullanabileceÄŸi etkileÅŸimli tanÄ±tÄ±m asistanÄ±.</span>
      </div>

      <p class="intro">
        Ebrarâ€™Ä±n <span style="color:#f97316;">DevOps</span>,
        <span style="color:#f97316;">backend geliÅŸtirme</span> ve
        <span style="color:#f97316;">denetim otomasyonu</span> alanlarÄ±ndaki deneyimleriyle ilgili
        sorularÄ± buradan yÃ¶neltebilirsiniz.
      </p>

      <div class="pill-row">
        <div class="pill"><span class="pill-dot"></span> DevOps Â· CI/CD Â· Docker</div>
        <div class="pill"><span class="pill-dot"></span> FastAPI Â· Python Â· SQLAlchemy</div>
        <div class="pill"><span class="pill-dot"></span> Audit Automation Â· Data Workflows</div>
      </div>

      <div id="chat" class="chatbox"></div>

      <div class="input-area">
        <div class="input-wrapper">
          <input type="text" id="userInput" placeholder="Bir soru yazÄ±n... Ã–rn: 'Jenkins pipeline tecrÃ¼besi nasÄ±l?'" />
          <div class="shortcut-hint">Enter â†µ</div>
        </div>
        <button class="send-btn" id="sendBtn">GÃ¶nder <span>âœ</span></button>
      </div>

      <div class="bottom-menu">
<button class="bm-btn" data-bm="BACK_MENU">Ana MenÃ¼</button>
        <button class="bm-btn" data-bm="MENU_INTERNSHIPS">Stajlar</button>
        <button class="bm-btn" data-bm="MENU_DEVOPS">DevOps</button>
        <button class="bm-btn" data-bm="MENU_AUDIT">Audit</button>
      </div>

      <div class="quick-questions">
        <button class="quick-btn" data-q="Docker ve container tecrÃ¼besi nedir?">Docker tecrÃ¼besi nedir?</button>
        <button class="quick-btn" data-q="Jenkins ve CI/CD sÃ¼reÃ§lerinde nasÄ±l bir rol aldÄ±?">Jenkins / CI/CD rolÃ¼?</button>
        <button class="quick-btn" data-q="Audit automation projesi nasÄ±l Ã§alÄ±ÅŸÄ±yor?">Audit automation projesi?</button>
        <button class="quick-btn" data-q="Hangi backend teknolojileriyle Ã§alÄ±ÅŸtÄ±?">Backend stack'i nedir?</button>
      </div>
    </section>

    <!-- SAÄ -->
    <aside class="side-section">
      <div class="profile-row">
        <div class="avatar"></div>
        <div class="profile-text">
          <h2>EBRAR ALBAYRAK</h2>
          <p>DevOps & Backend Â· Ä°stanbul</p>
        </div>
      </div>

      <div class="tag-list">
        <div class="tag">DevOps Engineer</div>
        <div class="tag">Backend Developer</div>
        <div class="tag">Cloud & Automation</div>
      </div>

      <div>
        <div class="section-title">Ã–ne Ã§Ä±kan alanlar</div>
        <div class="section-body">
          Ebrar; <span>Docker, Jenkins, FastAPI, SQLAlchemy, PostgreSQL</span> ve konteyner tabanlÄ± mimariler Ã¼zerinde Ã§alÄ±ÅŸan;
          aynÄ± zamanda <span>baÄŸÄ±msÄ±z denetim sÃ¼reÃ§lerini</span> otomatikleÅŸtiren hibrit bir DevOps & backend mÃ¼hendisidir.
        </div>
      </div>

      <div>
        <div class="section-title">Neleri sorabilirsiniz?</div>
        <div class="section-body">
          â–¸ CI/CD pipeline Ã¶rnekleri<br />
          â–¸ Audit veri iÅŸleme ve Ã¶rnekleme otomasyonu (BDS 530)<br />
          â–¸ Mimari tercihler (modÃ¼ler yapÄ±, servis ayrÄ±mÄ±)<br />
          â–¸ Java / Python backend deneyimleri<br />
          â–¸ Docker & Compose deployment yaklaÅŸÄ±mÄ±
        </div>
      </div>

      <div class="link-box">
       Daha kapsamlÄ± bilgi iÃ§in Ebrarâ€™Ä±n
<a href="https://www.linkedin.com/in/ebrar-a-585222201" target="_blank" rel="noopener noreferrer">
  LinkedIn profiline
</a>
ve
<a href="https://medium.com/@ealbayrk0" target="_blank" rel="noopener noreferrer">
  Medium hesabÄ±na
</a>
gÃ¶z atabilirsiniz.<br/><br/>

E-posta:
<a href="mailto:ealbayrk0@gmail.com?subject=Ebrar%20AI%20Assistant%20-%20Ä°letiÅŸim">
  ealbayrk0@gmail.com
</a>
      </div>
    </aside>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const chatEl = document.getElementById("chat");
  const inputEl = document.getElementById("userInput");
  const sendBtn = document.getElementById("sendBtn");

  // ==========
  // DATA (CV)
  // ==========
  const KB = {
    profile: `
      <b>Ebrar Albayrak</b>, DevOps ve Backend geliÅŸtirme odaÄŸÄ±nda; teknik yetkinliÄŸi iÅŸ ihtiyaÃ§larÄ±yla birleÅŸtiren,
<b>sÃ¼reÃ§, sÃ¼rdÃ¼rÃ¼lebilirlik ve Ã¼rÃ¼nleÅŸme</b> perspektifine sahip bir mÃ¼hendis profilidir.<br/><br/>

Kendini geliÅŸtirmeyi bir hedef olarak deÄŸil, <b>mesleki bir sorumluluk</b> olarak gÃ¶rÃ¼r.
Her projeyi; daha doÄŸru mimari kurmak, tekrar eden problemleri otomasyona taÅŸÄ±mak
ve sistemi bir adÄ±m daha Ã¶ngÃ¶rÃ¼lebilir hale getirmek iÃ§in bir fÄ±rsat olarak ele alÄ±r.<br/><br/>

Teknik Ã§alÄ±ÅŸmalarÄ±nda;
â€¢ <b>Docker & Docker Compose</b> ile tutarlÄ± ve tekrarlanabilir ortamlar kurar,<br/>
â€¢ <b>Jenkins tabanlÄ± CI/CD</b> akÄ±ÅŸlarÄ±yla buildâ€“testâ€“imageâ€“deploy sÃ¼reÃ§lerini otomatikleÅŸtirir,<br/>
â€¢ <b>FastAPI, SQLAlchemy ve PostgreSQL</b> kullanarak Ã¶lÃ§eklenebilir ve bakÄ±m odaklÄ± backend servisleri geliÅŸtirir,<br/>
â€¢ <b>BDS 530</b> Ã§erÃ§evesinde denetim Ã¶rnekleme mantÄ±ÄŸÄ±nÄ± yazÄ±lÄ±ma dÃ¶kerek Word ve Excel formatlarÄ±nda
<b>standart, izlenebilir ve tekrar Ã¼retilebilir</b> rapor Ã§Ä±ktÄ±larÄ± oluÅŸturur.<br/><br/>

FarklÄ± disiplinlerde edindiÄŸi deneyimler sayesinde yalnÄ±zca â€œkod yazanâ€ deÄŸil;
<b>sistemin tamamÄ±nÄ± dÃ¼ÅŸÃ¼nen</b>, geliÅŸtirilen yapÄ±nÄ±n operasyonel karÅŸÄ±lÄ±ÄŸÄ±nÄ± da hesaba katan bir yaklaÅŸÄ±m benimser.<br/><br/>

Kariyerinin erken aÅŸamasÄ±nda olmasÄ±nÄ±n farkÄ±ndadÄ±r; bu farkÄ±ndalÄ±k onu geri Ã§ekmez,
aksine <b>daha sistemli Ã¶ÄŸrenmeye, daha doÄŸru sorular sormaya ve Ã¶ÄŸrendiÄŸini hÄ±zlÄ±ca Ã¼retime taÅŸÄ±maya</b> iter.
    `,
   strengths: `
<b>Ä°nsan & Ekip OdaklÄ± GÃ¼Ã§lÃ¼ YÃ¶nler</b><br/>
Ebrar, teknik Ã¼retimin yalnÄ±zca kod yazmak deÄŸil; ekip iÃ§inde doÄŸru iletiÅŸim,
sorumluluk alma ve sÃ¼rdÃ¼rÃ¼lebilir Ã§alÄ±ÅŸma kÃ¼ltÃ¼rÃ¼yle mÃ¼mkÃ¼n olduÄŸunun bilincindedir.<br/><br/>

â€¢ <b>Sorumluluk bilinci:</b> verilen iÅŸi â€œyapÄ±ldÄ±â€ demekle bÄ±rakmaz, etkisini ve devamÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼r<br/>
â€¢ <b>Ã–ÄŸrenmeye aÃ§Ä±klÄ±k:</b> geri bildirimi tehdit deÄŸil, geliÅŸim aracÄ± olarak gÃ¶rÃ¼r<br/>
â€¢ <b>Uyum ve adaptasyon:</b> farklÄ± ekipler ve disiplinlerle hÄ±zlÄ± uyum saÄŸlar<br/>
â€¢ <b>GÃ¼venilirlik:</b> sÃ¼reÃ§leri ÅŸeffaf yÃ¼rÃ¼tÃ¼r, ekip iÃ§inde Ã¶ngÃ¶rÃ¼lebilir bir Ã§alÄ±ÅŸma tarzÄ± sunar<br/><br/>

<b>Teknik & Sistem OdaklÄ± GÃ¼Ã§lÃ¼ YÃ¶nler</b><br/>
Ebrarâ€™Ä±n teknik gÃ¼cÃ¼, â€œbir ÅŸeyin Ã§alÄ±ÅŸmasÄ±â€ndan Ã§ok,
<b>uzun vadede sÃ¼rdÃ¼rÃ¼lebilir Ã§alÄ±ÅŸmasÄ±</b> Ã¼zerine kuruludur.<br/><br/>

â€¢<b>CI/CD & Jenkins deneyimi:</b> Jenkins Ã¼zerinden buildâ€“testâ€“imageâ€“deploy adÄ±mlarÄ±nÄ± kapsayan,
tekrarlanabilir ve okunabilir pipelineâ€™lar kurgular<br/>
â€¢ <b>Reproducible ortam yaklaÅŸÄ±mÄ±:</b> Docker/Compose ile ortam tutarsÄ±zlÄ±klarÄ±nÄ± minimize eder<br/>
â€¢ <b>Backend + sistem bakÄ±ÅŸÄ±:</b> yalnÄ±zca endpoint deÄŸil, bakÄ±m ve geniÅŸletilebilirlik odaklÄ± servisler geliÅŸtirir<br/>
â€¢ <b>Otomasyon refleksi:</b> tekrarlayan iÅŸleri standartlaÅŸtÄ±rÄ±r, manuel hatalarÄ± azaltacak yapÄ±lar kurar
`,
    internships: {
      pia_devops: `
        <b>Pia â€“ DevOps StajÄ±</b><br/>
        â€¢ Jenkins ile frontend/backend pipeline kurulumu<br/>
        â€¢ Docker image build & push, registry sÃ¼reÃ§leri (Harbor/Nexus vb.)<br/>
        â€¢ Docker Compose ile lokal ortamÄ±n tek komutla ayaÄŸa kalkmasÄ±<br/>
        <br/>
        <span style="color:#9ca3af">DeÄŸer:</span> onboarding hÄ±zlanÄ±r, ortam tutarlÄ±lÄ±ÄŸÄ± artar, release daha Ã¶ngÃ¶rÃ¼lebilir olur.
      `,
      pia_fs: `
        <b>Pia â€“ Full Stack StajÄ±</b><br/>
        â€¢ Uygulama geliÅŸtirme akÄ±ÅŸlarÄ±nÄ± uÃ§tan uca gÃ¶rme (frontend + backend etkileÅŸimi)<br/>
        â€¢ Veri/iÅŸ akÄ±ÅŸÄ± mantÄ±ÄŸÄ± ve ihtiyaÃ§ analizi yaklaÅŸÄ±mÄ±<br/>
        <br/>
        <span style="color:#9ca3af">DeÄŸer:</span> DevOps tarafÄ±nda â€œdeveloper gÃ¶zÃ¼yleâ€ konuÅŸabilme ve daha doÄŸru otomasyon kurgusu.
      `,
      bkm: `
        <b>BKM â€“ DevOps StajÄ±</b><br/>
        â€¢ Jenkins + Groovy pipeline senaryolarÄ±<br/>
        â€¢ Maven/Gradle build sÃ¼reÃ§leri<br/>
        â€¢ Bitbucket â†’ Jenkins â†’ OpenShift deploy akÄ±ÅŸÄ±<br/>
        â€¢ Container deploy pratiÄŸi ve CI/CD standardizasyonu
      `
    },
    devops: {
      docker: `
        Ebrarâ€™Ä±n gÃ¼Ã§lÃ¼ olduÄŸu ÅŸey â€œÃ§alÄ±ÅŸanÄ± Ã§alÄ±ÅŸÄ±r halde paketlemekâ€.<br/><br/>
        <b>Docker & Container</b> tarafÄ±nda servisleri ayrÄ± imageâ€™lar halinde yÃ¶netir; <b>Docker Compose</b> ile lokal ortamÄ± tek komutla ayaÄŸa kaldÄ±rÄ±r.<br/><br/>
        <b>Etki:</b> hÄ±zlÄ± onboarding, daha az â€œbende Ã§alÄ±ÅŸÄ±yorduâ€ problemi, daha Ã¶ngÃ¶rÃ¼lebilir release.
      `,
      cicd: `
        Ebrarâ€™Ä±n CI/CD yaklaÅŸÄ±mÄ±: â€œpipeline Ã§alÄ±ÅŸsÄ±nâ€ deÄŸil, <b>hata erken yakalansÄ±n</b> ve <b>teslimat hÄ±zlansÄ±n</b>.<br/><br/>
        â€¢ PR sonrasÄ± otomatik build/test<br/>
        â€¢ Docker image Ã¼retimi ve registryâ€™ye push<br/>
        â€¢ Ortama deploy akÄ±ÅŸÄ± (Compose/OpenShift)<br/><br/>
        Ä°stersen â€œÃ¶rnek Jenkinsfile akÄ±ÅŸÄ±â€ ÅŸeklinde de anlatabilir.
      `,
      backend: `
        <b>Backend stack:</b> FastAPI + Python, ORM: SQLAlchemy, DB: PostgreSQL, container: Docker.<br/><br/>
        Ã‡alÄ±ÅŸma tarzÄ±: <b>modÃ¼ler yapÄ±</b>, <b>temiz endpoint</b>, <b>bakÄ±mÄ± kolay servis</b>.<br/>
        â€œEndpoint yazÄ±p bÄ±rakmakâ€ yerine geniÅŸletilebilir Ã¼rÃ¼n mantÄ±ÄŸÄ± kurar.
      `,
      db: `
        <b>DB & SQLAlchemy</b><br/>
        â€¢ SQLAlchemy ile model/iliÅŸki kurgularÄ±<br/>
        â€¢ PostgreSQL Ã¼zerinde veri akÄ±ÅŸÄ± ve raporlama ihtiyaÃ§larÄ±na uygun tasarÄ±m<br/>
        â€¢ (Projelerde) rapor Ã§Ä±ktÄ±larÄ± iÃ§in veri hazÄ±rlama + Ã¶zetleme mantÄ±ÄŸÄ±
      `,
      obs: `
        <b>Observability</b> tarafÄ±nda (log/metric/trace) hedef: prodâ€™da â€œneden bozuldu?â€ sorusunu hÄ±zlÄ± cevaplamak.<br/><br/>
        EÄŸer istersen burada: logging stratejisi, healthcheck, basic metrics gibi bir yol haritasÄ± da Ã§Ä±karabilirim.
      `
    },
audit: {
  overview: `
    <b>Denetim Otomasyonu Projesi</b><br/>
    Denetim sÃ¼reÃ§lerinde tekrarlayan ve manuel adÄ±mlarÄ± daha <b>dÃ¼zenli</b>, <b>tutarlÄ±</b> ve <b>izlenebilir</b> hale getirmeyi amaÃ§layan bir Ã¼rÃ¼n Ã§alÄ±ÅŸmasÄ±dÄ±r.<br/><br/>
    Odak noktasÄ±; denetim ekiplerinin gÃ¼nlÃ¼k operasyonlarÄ±nÄ± sadeleÅŸtirmek ve Ã§Ä±ktÄ±larÄ± tek bir standart altÄ±nda toplamaktÄ±r.
  `,
  features: `
    <b>Ã–ne Ã§Ä±kan Ã¶zellikler</b><br/>
    â€¢ Denetim sÃ¼reÃ§leri iÃ§in kullanÄ±cÄ±yÄ± yÃ¶nlendiren <b>kontrollÃ¼ iÅŸ akÄ±ÅŸlarÄ±</b><br/>
    â€¢ SÃ¼reÃ§ boyunca tutarlÄ±lÄ±ÄŸÄ± destekleyen <b>standart raporlama yaklaÅŸÄ±mÄ±</b><br/>
    â€¢ Veriye dayalÄ± kararlarÄ± destekleyen <b>okunabilir Ã§Ä±ktÄ± formatlarÄ±</b><br/>
    â€¢ KullanÄ±mÄ± kolay, denetim ekiplerinin alÄ±ÅŸÄ±k olduÄŸu yapÄ±ya yakÄ±n arayÃ¼z
  `,
  technologies: `
    <b>KullanÄ±lan teknolojiler</b><br/>
    â€¢ <b>Backend:</b> Python, FastAPI<br/>
    â€¢ <b>VeritabanÄ±:</b> SQL tabanlÄ± iliÅŸkisel veritabanÄ±<br/>
    â€¢ <b>Veri iÅŸleme:</b> pandas ile veri okuma ve dÃ¼zenleme<br/>
    â€¢ <b>Raporlama:</b> Word & Excel Ã§Ä±ktÄ±larÄ±<br/>
    â€¢ <b>Container & Deployment:</b> Docker ile containerize edilmiÅŸ yapÄ±<br/>
    â€¢ <b>Genel yaklaÅŸÄ±m:</b> ModÃ¼ler, geniÅŸletilebilir ve bakÄ±m odaklÄ± sistem tasarÄ±mÄ±
  `,
  value: `
    <b>DeÄŸer Ã¶nerisi</b><br/>
    â€¢ Denetim ekipleri iÃ§in <b>zaman tasarrufu</b><br/>
    â€¢ Ekipler arasÄ±nda <b>aynÄ± standartta ilerleme</b><br/>
    â€¢ Manuel hatalarÄ±n azalmasÄ±na yardÄ±mcÄ± olan yapÄ±<br/>
    â€¢ Docker tabanlÄ± kurulum sayesinde <b>kolay kurulum ve ortam tutarlÄ±lÄ±ÄŸÄ±</b><br/>
    â€¢ Denetim sÃ¼recinin daha <b>ÅŸeffaf ve takip edilebilir</b> hale gelmesi
  `
},
thesis: {
  overview: `
    <b>Trade Center (Bitirme Projesi)</b><br/>
    BIST100 ve kripto piyasalarÄ± iÃ§in, teknik gÃ¶stergelere dayalÄ± <b>kural tabanlÄ±</b> al-sat kararlarÄ± Ã¼reten; karar sÃ¼reÃ§lerini otomatikleÅŸtirip <b>tek bir panelden</b> izlenebilir hale getiren algoritmik trading platformu.<br/><br/>
    AmaÃ§: â€œgrafik baÅŸÄ±nda beklemekâ€ yerine; sinyali Ã¼ret, doÄŸrula, kaydet ve sonucu Ã¶lÃ§ â€” hepsi <b>uÃ§tan uca</b> bir sistem iÃ§inde.
  `,

  problem: `
    <b>Problem / ihtiyaÃ§</b><br/>
    Finansal piyasalarda manuel iÅŸlem yapmak; <b>zaman baskÄ±sÄ±</b>, <b>duygusal kararlar</b> ve <b>tutarsÄ±z strateji uygulamasÄ±</b> gibi riskleri bÃ¼yÃ¼tÃ¼r.<br/><br/>
    Trade Center bu noktada ÅŸunu hedefler:<br/>
    â€¢ Stratejiyi â€œkiÅŸiye baÄŸlÄ±â€ olmaktan Ã§Ä±karÄ±p <b>standardize etmek</b><br/>
    â€¢ KararlarÄ± â€œtahmineâ€ deÄŸil, <b>Ã¶lÃ§Ã¼lebilir sinyallere</b> dayandÄ±rmak<br/>
    â€¢ SonuÃ§larÄ± geÃ§miÅŸe dÃ¶nÃ¼k izleyerek <b>performans deÄŸerlendirmesi</b> yapabilmek
  `,

  architecture: `
    <b>Mimari (3 alt sistem)</b><br/>
    Sistem, bakÄ±m/Ã¶lÃ§eklenebilirlik iÃ§in Ã¼Ã§ parÃ§aya ayrÄ±lmÄ±ÅŸtÄ±r:<br/><br/>
    â€¢ <b>Data Subsystem:</b> KonfigÃ¼rasyon + veri modelleri + kalÄ±cÄ± kayÄ±t katmanÄ± (strateji/iÅŸlem/log)<br/>
    â€¢ <b>ASP.NET Core MVC Web:</b> KullanÄ±cÄ± arayÃ¼zÃ¼, iÅŸ akÄ±ÅŸÄ± yÃ¶netimi ve kararlarÄ±n tek panelden kontrolÃ¼<br/>
    â€¢ <b>Python Bot Worker:</b> Ä°ndikatÃ¶r hesaplarÄ±, sinyal Ã¼retimi ve strateji deÄŸerlendirme motoru<br/><br/>
    Bu ayrÄ±m sayesinde:<br/>
    â€¢ Bot tarafÄ± baÄŸÄ±msÄ±z geliÅŸtirilir/test edilir<br/>
    â€¢ UI tarafÄ± â€œgÃ¶sterim ve kontrolâ€e odaklanÄ±r<br/>
    â€¢ Veri katmanÄ± dÃ¼zenli ve izlenebilir bir kayÄ±t saÄŸlar
  `,

  features: `
    <b>Ã–zellikler</b><br/>
    Trade Center bir â€œgrafik uygulamasÄ±â€ deÄŸil, <b>karar + takip</b> platformudur:<br/><br/>
    â€¢ <b>Sinyal Ã¼retimi ve iÅŸleme:</b> Bot, kurallara gÃ¶re sinyal Ã¼retir; sistem sinyali kaydeder ve akÄ±ÅŸÄ± yÃ¶netir<br/>
    â€¢ <b>Wallet & iÅŸlem geÃ§miÅŸi:</b> Pozisyon ve geÃ§miÅŸ iÅŸlemler tek yerde izlenir<br/>
    â€¢ <b>Bildirimler:</b> Fiyat uyarÄ±larÄ± ve kritik eÅŸikler iÃ§in uygulama iÃ§i / e-posta bildirimleri<br/>
    â€¢ <b>Dashboard:</b> Strateji performansÄ±, Ã¶zet metrikler ve geÃ§miÅŸ sonuÃ§lar<br/>
    â€¢ <b>Paper Trading:</b> GerÃ§ek para riski olmadan strateji deneme ve karÅŸÄ±laÅŸtÄ±rma imkÃ¢nÄ±
  `,

  technologies: `
    <b>Teknolojiler</b><br/>
    Bu proje â€œtek teknolojiyleâ€ deÄŸil, bilinÃ§li bir stack kurgusuyla inÅŸa edildi:<br/><br/>
    â€¢ <b>Web:</b> ASP.NET Core MVC (UI + kontrol katmanÄ±)<br/>
    â€¢ <b>ORM & Kimlik:</b> EF Core + Identity<br/>
    â€¢ <b>DB:</b> MSSQL (kalÄ±cÄ± kayÄ±t & raporlanabilir veri)<br/>
    â€¢ <b>Worker:</b> Python (hesaplama ve sinyal motoru)<br/>
    â€¢ <b>Veri/Widget:</b> Piyasa verisi entegrasyonu + TradingView widgetâ€™larÄ±<br/>
    â€¢ <b>Bildirim:</b> SendGrid<br/>
    â€¢ <b>GeliÅŸtirme/Test:</b> Postman, VS2022
  `,

  security: `
    <b>GÃ¼venlik</b><br/>
    Finans uygulamalarÄ±nda gÃ¼venlik â€œsonradan eklenenâ€ deÄŸil, <b>temelden gelen</b> bir ihtiyaÃ§tÄ±r. Bu yÃ¼zden:<br/><br/>
    â€¢ <b>2FA:</b> Hesap ele geÃ§irme riskini azaltan ikinci doÄŸrulama katmanÄ±<br/>
    â€¢ <b>Oturum gÃ¼venliÄŸi:</b> Token/oturum sÃ¼resi kÄ±sÄ±tlarÄ± (Ã¶r. kÄ±sa sÃ¼reli geÃ§erlilik)<br/>
    â€¢ <b>API key korumasÄ±:</b> AnahtarlarÄ±n ÅŸifrelenmesi ve kullanÄ±cÄ± tarafÄ±nda giriÅŸ/validasyon kontrolleri<br/><br/>
    Hedef: kullanÄ±cÄ± gÃ¼veni + sistem bÃ¼tÃ¼nlÃ¼ÄŸÃ¼ + kÃ¶tÃ¼ye kullanÄ±m riskinin azaltÄ±lmasÄ±.
  `,

  tests: `
    <b>Testler</b><br/>
    â€œÃ‡alÄ±ÅŸÄ±yorâ€ demek yetmez â€” <b>doÄŸru Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ±</b> gÃ¶stermek gerekir. Bu yÃ¼zden test yaklaÅŸÄ±mÄ± Ã§ok katmanlÄ±dÄ±r:<br/><br/>
    â€¢ <b>Unit test:</b> indikatÃ¶r hesaplarÄ±, sinyal kurallarÄ±, kritik fonksiyonlar<br/>
    â€¢ <b>Acceptance test:</b> uÃ§tan uca senaryolar (kullanÄ±cÄ± akÄ±ÅŸÄ± + sinyal â†’ kayÄ±t â†’ gÃ¶rÃ¼ntÃ¼leme)<br/>
    â€¢ <b>Performans test:</b> veri Ã§ekme / hesaplama yÃ¼kÃ¼ altÄ±nda sistem davranÄ±ÅŸÄ±<br/>
    â€¢ <b>Security test:</b> authentication akÄ±ÅŸÄ± ve temel gÃ¼venlik kontrolleri<br/><br/>
    Ek olarak <b>paper trading</b> senaryolarÄ± ile stratejilerin â€œsahadaâ€ simÃ¼lasyonu yapÄ±lÄ±r.
  `,

  results: `
    <b>SonuÃ§ & gelecek</b><br/>
    Proje; dakika seviyesinde verilerle strateji Ã¼retimi ve performans takibini baÅŸarÄ±lÄ± ÅŸekilde gerÃ§ekleÅŸtirdi.<br/><br/>
    <b>SÄ±nÄ±rlÄ±lÄ±k:</b> Saniye-altÄ± veri/akÄ±ÅŸ eksikliÄŸi, HFT (yÃ¼ksek frekans) senaryolarÄ±nÄ± doÄŸal olarak sÄ±nÄ±rlar.<br/><br/>
    <b>Gelecek adÄ±mlar:</b><br/>
    â€¢ Daha yÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ veri saÄŸlayÄ±cÄ± entegrasyonlarÄ±<br/>
    â€¢ Strateji karÅŸÄ±laÅŸtÄ±rma modÃ¼lÃ¼ (A/B strateji kÄ±yaslama)<br/>
    â€¢ Backtest ekranÄ± ve geliÅŸmiÅŸ metrikler (drawdown, sharpe vb.)<br/>
    â€¢ GerÃ§ek zamanlÄ± event-driven mimariye geÃ§iÅŸ (queue/stream tabanlÄ±)
  `
},
    interview: `
      <b>MÃ¼lakat Modu (HÄ±zlÄ±)</b><br/>
      AÅŸaÄŸÄ±dakilerden seÃ§, 30 saniyelik net cevap Ã¼retelim:<br/>
      â€¢ â€œKendini anlatâ€<br/>
      â€¢ â€œCI/CD Ã¶rneÄŸin?â€<br/>
      â€¢ â€œDocker/Compose ile nasÄ±l deploy edersin?â€<br/>
      â€¢ â€œAudit automation projesinde en zor kÄ±sÄ±m neydi?â€<br/>
    `,
contact: `
  <b>Ebrarâ€™a ulaÅŸmak iÃ§in:</b><br/><br/>
  â€¢ LinkedIn: 
  <a href="https://www.linkedin.com/in/ebrar-a-585222201"
     target="_blank"
     rel="noopener noreferrer">
     profil
  </a><br/>
  â€¢ Medium: 
  <a href="https://medium.com/@ealbayrk0"
     target="_blank"
     rel="noopener noreferrer">
     yazÄ±larÄ±m
  </a>
`
  };

  // ==========
  // UI HELPERS
  // ==========
  function appendMessage(html, who) {
    const msg = document.createElement("div");
    msg.className = "message " + who;
    msg.innerHTML = html;
    chatEl.appendChild(msg);
    chatEl.scrollTop = chatEl.scrollHeight;
  }

  function botSay(text, choices) {
    let html = text;
    if (choices && choices.length) {
      html += `<div class="choice-wrap">
        ${choices.map(c => `
          <button class="choice-btn ${c.secondary ? "secondary" : ""}" data-choice="${c.value}">
            ${c.label}
          </button>
        `).join("")}
      </div>`;
    }
    appendMessage(html, "bot");
  }

  function userSay(text) { appendMessage(text, "user"); }

  function typing(ms=350){
    const t = document.createElement("div");
    t.className = "message bot";
    t.textContent = "YazÄ±yor...";
    chatEl.appendChild(t);
    chatEl.scrollTop = chatEl.scrollHeight;
    return new Promise(res => setTimeout(() => { t.remove(); res(); }, ms));
  }

  // ==========
  // FLOW STATE
  // ==========
  let state = "askName";      // askName | awaitingName | mainMenu | internships | devopsMenu | auditMenu
  let userName = null;

  const mapLabel = {
    NAME_YES: "Evet, ismimi paylaÅŸayÄ±m",
    NAME_NO: "HayÄ±r, isim vermeden devam",
    INTRO_YES: "Evet, Ã¶nce Ebrarâ€™dan bahset",
    INTRO_NO: "HayÄ±r, direkt baÅŸlÄ±klara geÃ§elim",
    MENU_PROFILE: "Ebrar Kimdir?",
    MENU_STRENGTHS: "GÃ¼Ã§lÃ¼ yÃ¶nler",
    MENU_INTERNSHIPS: "Stajlar",
    MENU_DEVOPS: "DevOps & Backend",
    MENU_AUDIT: "Audit Otomasyonu",
    MENU_THESIS: "Bitirme Projesi",
    MENU_INTERVIEW: "MÃ¼lakat Modu",
    MENU_CONTACT: "Ä°letiÅŸim",

    INT_BKM: "BKM â€“ DevOps",
    INT_PIA_DEVOPS: "Pia â€“ DevOps",
    INT_PIA_FS: "Pia â€“ Full Stack",

    DEVOPS_DOCKER: "Docker & Container",
    DEVOPS_CICD: "CI/CD (Jenkins)",
    DEVOPS_BACKEND: "FastAPI & Backend",
    DEVOPS_DB: "DB & SQLAlchemy",
    DEVOPS_OBS: "Observability",

    AUDIT_OVERVIEW: "Proje Ã–zeti",
    AUDIT_FEATURES: "Ã–zellikler",
    AUDIT_VALUE: "Katma DeÄŸer",
    AUDIT_TECH: "Teknolojiler",

  
    THESIS_OVERVIEW: "Proje Ã–zeti",
    THESIS_PROBLEM: "Problem & Motivasyon",
    THESIS_ARCH: "Mimari",
    THESIS_FEATURES: "Ã–zellikler",
    THESIS_TECH: "Teknolojiler",
    THESIS_SECURITY: "GÃ¼venlik",
    THESIS_TESTS: "Testler",
    THESIS_RESULTS: "SonuÃ§ & Gelecek",
   

    BACK_MENU: "Ana MenÃ¼"
  };

  // ==========
  // MENUS
  // ==========
  function startFlow(){
    state = "askName";
    botSay(
      `Merhaba ğŸ‘‹ Ben Ebrarâ€™Ä±n Yapay ZekÃ¢ AsistanÄ±yÄ±m.<br/><br/>Sizinle daha iyi iletiÅŸim kurabilmem iÃ§in isminizi Ã¶ÄŸrenebilir miyim?`,
      [
        {label:"Evet, ismimi paylaÅŸayÄ±m", value:"NAME_YES"},
        {label:"HayÄ±r, isim vermeden devam", value:"NAME_NO", secondary:true}
      ]
    );
  }

  

  function goMainMenu(){
    state = "mainMenu";
    botSay(
      `Harika${userName ? ` <b>${userName}</b>` : ""}. AÅŸaÄŸÄ±daki baÅŸlÄ±klardan seÃ§ebilir veya serbest soru sorabilirsin:`,
      [
        {label:"Ebrar Kimdir?", value:"MENU_PROFILE"},
        {label:"GÃ¼Ã§lÃ¼ yÃ¶nler", value:"MENU_STRENGTHS"},
        {label:"Stajlar", value:"MENU_INTERNSHIPS"},
        {label:"DevOps & Backend", value:"MENU_DEVOPS"},
        {label:"Audit Otomasyonu", value:"MENU_AUDIT"},
        {label:"Bitirme Projesi", value:"MENU_THESIS"},
        {label:"MÃ¼lakat Modu", value:"MENU_INTERVIEW", secondary:true},
        {label:"Ä°letiÅŸim", value:"MENU_CONTACT", secondary:true},
      ]
    );
  }

  function goThesisMenu(){
  state = "thesisMenu";
  botSay(
    `Bitirme projesinde hangi kÄ±smÄ± gÃ¶rmek istersin?`,
    [
      {label:"Proje Ã–zeti", value:"THESIS_OVERVIEW"},
      {label:"Problem & Motivasyon", value:"THESIS_PROBLEM"},
      {label:"Mimari", value:"THESIS_ARCH"},
      {label:"Ã–zellikler", value:"THESIS_FEATURES"},
      {label:"Teknolojiler", value:"THESIS_TECH"},
      {label:"GÃ¼venlik", value:"THESIS_SECURITY"},
      {label:"Testler", value:"THESIS_TESTS"},
      {label:"SonuÃ§ & Gelecek", value:"THESIS_RESULTS"},
      {label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true},
    ]
  );
}

  function goInternships(){
    state = "internships";
    botSay(
      `Ebrarâ€™Ä±n stajlarÄ±ndan hangisiyle devam edelim?`,
      [
        {label:"BKM â€“ DevOps", value:"INT_BKM"},
        {label:"Pia â€“ DevOps", value:"INT_PIA_DEVOPS"},
        {label:"Pia â€“ Full Stack", value:"INT_PIA_FS"},
        {label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}
      ]
    );
  }

  function goDevopsMenu(){
    state = "devopsMenu";
    botSay(
      `DevOps & Backend tarafÄ±nda hangi baÅŸlÄ±kla baÅŸlayalÄ±m?`,
      [
        {label:"Docker & Container", value:"DEVOPS_DOCKER"},
        {label:"CI/CD (Jenkins)", value:"DEVOPS_CICD"},
        {label:"FastAPI & Backend", value:"DEVOPS_BACKEND"},
        {label:"DB & SQLAlchemy", value:"DEVOPS_DB"},
        {label:"Observability", value:"DEVOPS_OBS", secondary:true},
        {label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}
      ]
    );
  }

function goAuditMenu(){
  state = "auditMenu";
  botSay(
    `Audit otomasyonu tarafÄ±nda neyi gÃ¶rmek istersin?`,
    [
      {label:"Proje Ã–zeti", value:"AUDIT_OVERVIEW"},
      {label:"Ã–zellikler", value:"AUDIT_FEATURES"},
      {label:"Katma DeÄŸer", value:"AUDIT_VALUE"},
      {label:"Teknolojiler", value:"AUDIT_TECH"},
      {label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}
    ]
  );
}

  // ==========
  // CHOICE HANDLER
  // ==========
  async function handleChoice(value, clickedButton){
    
    // disable same bubble buttons once clicked
    const wrap = clickedButton?.closest?.(".choice-wrap");
    if (wrap) wrap.querySelectorAll("button").forEach(b => b.disabled = true);

    userSay(mapLabel[value] || value);
    await typing(250);

    // name flow
    if (value === "NAME_YES"){
      state = "awaitingName";
      botSay("Harika ğŸ˜Š Ä°sminizi yazabilir misiniz?");
      return;
    }
    if (value === "NAME_NO"){
      userName = null;
      goMainMenu();
      return;
    }

    // menus
    if (value === "BACK_MENU"){ goMainMenu(); return; }
    if (value === "MENU_INTERNSHIPS"){ goInternships(); return; }
    if (value === "MENU_DEVOPS"){ goDevopsMenu(); return; }
    if (value === "MENU_AUDIT"){ goAuditMenu(); return; }

    // profile / strengths / thesis / interview / contact
    if (value === "MENU_PROFILE"){
      botSay(KB.profile, [{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]);
      return;
    }
    if (value === "MENU_STRENGTHS"){
      botSay(KB.strengths, [{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]);
      return;
    }
    if (value === "MENU_THESIS"){ 
  goThesisMenu(); 
  return; 
}
    if (value === "MENU_INTERVIEW"){
      botSay(KB.interview, [{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]);
      return;
    }
    if (value === "MENU_CONTACT"){
      botSay(KB.contact, [{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]);
      return;
    }

    // internships
    if (value === "INT_BKM"){
      botSay(KB.internships.bkm, [
        {label:"DiÄŸer stajlar", value:"MENU_INTERNSHIPS"},
        {label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}
      ]);
      return;
    }
    if (value === "INT_PIA_DEVOPS"){
      botSay(KB.internships.pia_devops, [
        {label:"DiÄŸer stajlar", value:"MENU_INTERNSHIPS"},
        {label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}
      ]);
      return;
    }
    if (value === "INT_PIA_FS"){
      botSay(KB.internships.pia_fs, [
        {label:"DiÄŸer stajlar", value:"MENU_INTERNSHIPS"},
        {label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}
      ]);
      return;
    }

    if (value === "MENU_THESIS"){ goThesisMenu(); return; }

if (value === "THESIS_OVERVIEW"){ botSay(KB.thesis.overview, [{label:"Bitirme Projesi MenÃ¼sÃ¼", value:"MENU_THESIS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
if (value === "THESIS_PROBLEM"){ botSay(KB.thesis.problem,  [{label:"Bitirme Projesi MenÃ¼sÃ¼", value:"MENU_THESIS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
if (value === "THESIS_ARCH"){ botSay(KB.thesis.architecture,[{label:"Bitirme Projesi MenÃ¼sÃ¼", value:"MENU_THESIS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
if (value === "THESIS_FEATURES"){ botSay(KB.thesis.features,[{label:"Bitirme Projesi MenÃ¼sÃ¼", value:"MENU_THESIS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
if (value === "THESIS_TECH"){ botSay(KB.thesis.technologies,[{label:"Bitirme Projesi MenÃ¼sÃ¼", value:"MENU_THESIS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
if (value === "THESIS_SECURITY"){ botSay(KB.thesis.security,[{label:"Bitirme Projesi MenÃ¼sÃ¼", value:"MENU_THESIS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
if (value === "THESIS_TESTS"){ botSay(KB.thesis.tests,[{label:"Bitirme Projesi MenÃ¼sÃ¼", value:"MENU_THESIS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
if (value === "THESIS_RESULTS"){ botSay(KB.thesis.results,[{label:"Bitirme Projesi MenÃ¼sÃ¼", value:"MENU_THESIS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
    

    // devops topics
    if (value === "DEVOPS_DOCKER"){ botSay(KB.devops.docker, [{label:"DevOps MenÃ¼sÃ¼", value:"MENU_DEVOPS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
    if (value === "DEVOPS_CICD"){ botSay(KB.devops.cicd, [{label:"DevOps MenÃ¼sÃ¼", value:"MENU_DEVOPS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
    if (value === "DEVOPS_BACKEND"){ botSay(KB.devops.backend, [{label:"DevOps MenÃ¼sÃ¼", value:"MENU_DEVOPS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
    if (value === "DEVOPS_DB"){ botSay(KB.devops.db, [{label:"DevOps MenÃ¼sÃ¼", value:"MENU_DEVOPS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
    if (value === "DEVOPS_OBS"){ botSay(KB.devops.obs, [{label:"DevOps MenÃ¼sÃ¼", value:"MENU_DEVOPS"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }

    // audit topics
    if (value === "AUDIT_OVERVIEW"){ botSay(KB.audit.overview, [{label:"Audit MenÃ¼sÃ¼", value:"MENU_AUDIT"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
    if (value === "AUDIT_FEATURES"){ botSay(KB.audit.features, [{label:"Audit MenÃ¼sÃ¼", value:"MENU_AUDIT"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
    if (value === "AUDIT_VALUE"){ botSay(KB.audit.value, [{label:"Audit MenÃ¼sÃ¼", value:"MENU_AUDIT"},{label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}]); return; }
 if (value === "AUDIT_TECH"){
  botSay(KB.audit.technologies, [
    {label:"Audit MenÃ¼sÃ¼", value:"MENU_AUDIT"},
    {label:"Ana MenÃ¼", value:"BACK_MENU", secondary:true}
  ]);
  return;
}

    // 
    botSay(`Bu baÅŸlÄ±k henÃ¼z baÄŸlÄ± deÄŸil. Ä°stersen <b>Ana MenÃ¼</b>den ilerleyelim ğŸ™‚`, [
      {label:"Ana MenÃ¼", value:"BACK_MENU"}
    ]);
  }

  // ==========
  // FREE TEXT ANSWERS (light keyword match)
  // ==========
const knowledgeBase = [

  // ===== DEVOPS â€“ DOCKER =====
  {
    keywords: [
      "docker", "container", "containerization", "compose", "docker compose",
      "image", "docker image", "registry", "harbor", "nexus",
      "konteyner", "paketleme", "deploy container"
    ],
    answer: KB.devops.docker
  },

  // ===== CI/CD â€“ JENKINS =====
  {
    keywords: [
      "jenkins", "ci", "cd", "ci cd", "ci/cd", "pipeline", "build pipeline",
      "deploy pipeline", "groovy", "automation", "otomasyon",
      "build", "test", "deploy", "release", "devops pipeline"
    ],
    answer: KB.devops.cicd
  },

  // ===== BACKEND =====
  {
    keywords: [
      "backend", "back end", "api", "rest", "rest api",
      "fastapi", "python backend", "service", "endpoint",
      "microservice", "servis", "web servis"
    ],
    answer: KB.devops.backend
  },

  // ===== DATABASE =====
  {
    keywords: [
      "sql", "database", "veritabani", "veri tabani",
      "postgres", "postgresql", "sqlalchemy",
      "orm", "db", "schema", "migration"
    ],
    answer: KB.devops.db
  },

  // ===== AUDIT / DENETÄ°M =====
  {
    keywords: [
      "audit", "denetim", "Ã¶rneklem", "orneklem",
      "sampling", "bds 530", "materiality", "materyalite",
      "rapor", "report", "excel", "word",
      "denetim otomasyonu", "audit automation"
    ],
    answer: KB.audit.overview + "<br/><br/>" + KB.audit.features
  },

  // ===== THESIS / BITIRME =====
  {
    keywords: [
      "tez", "thesis", "bitirme", "bitirme projesi",
      "trade center", "bist", "kripto", "crypto",
      "algoritmik trading", "trading bot",
      "asp.net", "sql server", "2fa", "security"
    ],
    answer: "__OPEN_THESIS_MENU__"
  },

  // ===== Ä°LETÄ°ÅÄ°M =====
  {
    keywords: [
      "iletisim", "iletiÅŸim", "contact", "ulaÅŸ", "ulas",
      "mail", "email", "e posta", "e-posta",
      "linkedin", "github", "profil", "hesap"
    ],
    answer: KB.contact
  }
];

function normalizeText(text) {
  return (text || "")
    .toLocaleLowerCase("tr-TR") // âœ… asÄ±l olay burada
    .replace(/Ä±/g, "i")
    .replace(/ÅŸ/g, "s")
    .replace(/ÄŸ/g, "g")
    .replace(/Ã¼/g, "u")
    .replace(/Ã¶/g, "o")
    .replace(/Ã§/g, "c")
    .replace(/Ã¢|Ã®|Ã»/g, "")
    .trim();
}

    const FALLBACK_CONTACT = `
  Bu noktada en doÄŸru cevabÄ± doÄŸrudan Ebrarâ€™Ä±n kendisinden almak daha anlamlÄ± olur.<br/><br/>
  Konuyla ilgili iletiÅŸime geÃ§mek istersen LinkedIn veya e-posta Ã¼zerinden ulaÅŸabilirsin:<br/><br/>

  <a href="https://www.linkedin.com/in/ebrar-a-585222201"
     target="_blank"
     rel="noopener noreferrer">
     Ebrar Albayrak â€“ LinkedIn
  </a><br/><br/>

  <a href="mailto:ealbayrk0@gmail.com">
    ealbayrk0@gmail.com
  </a>
`;

function findBestAnswer(text){
  const input = normalizeText(text);
  let best = null, bestScore = 0;

  for (const item of knowledgeBase){
    let score = 0;

    for (const kw of item.keywords){
      const normKw = normalizeText(kw);
      if (!normKw) continue;

      // âœ… kÄ±sa kelimelerde false-positive Ã¶nle
      if (normKw.length <= 2) {
        const re = new RegExp(`(^|\\s)${normKw}(\\s|$)`, "i");
        if (re.test(input)) score++;
        continue;
      }

      if (input.includes(normKw)) score++;
    }

    if (score > bestScore){
      bestScore = score;
      best = item.answer;
    }
  }

  return bestScore > 0 ? best : FALLBACK_CONTACT;
}
  
async function sendMessage(){
  const text = inputEl.value.trim();
  if (!text) return;

  userSay(text);
  inputEl.value = "";

  await typing(320);

  if (state === "awaitingName"){
    userName = text;
    botSay(`TanÄ±ÅŸtÄ±ÄŸÄ±ma memnun oldum <b>${userName}</b> â˜ºï¸`);
    await typing(200);
    goMainMenu();
    return;
  }

  const ans = findBestAnswer(text);

  if (ans === "__OPEN_THESIS_MENU__") {
    goThesisMenu();
    return;
  }

  botSay(ans);
}

  // ==========
  // EVENTS
  // ==========
  // choice buttons (event delegation)
  chatEl.addEventListener("click", (e) => {
    const btn = e.target.closest(".choice-btn");
    if (!btn) return;
    const value = btn.getAttribute("data-choice");
    handleChoice(value, btn);
  });

  // bottom menu buttons
  document.addEventListener("click", (e) => {
    const bm = e.target.closest(".bm-btn");
    if (!bm) return;
    const v = bm.getAttribute("data-bm");
    // make it look like a choice
    handleChoice(v, bm);
  });

  // quick questions
  document.addEventListener("click", (e) => {
    const qb = e.target.closest(".quick-btn");
    if (!qb) return;
    inputEl.value = qb.getAttribute("data-q");
    inputEl.focus();
  });

  sendBtn.addEventListener("click", sendMessage);
  inputEl.addEventListener("keydown", (e) => {
    if (e.key === "Enter"){ e.preventDefault(); sendMessage(); }
  });

  // ==========
  // INIT
  // ==========
  startFlow();
});
</script>
</body>
</html>
